# 🚬 动态水印生成器使用文档

## 核心功能
在图像/视频帧上添加可移动的文字水印，支持文生视频/图生视频工作流，水印位置根据帧索引自动更新。

## 自定义参数
| 参数 | 说明 |
|------|------|
| `text` | 水印文字内容 |
| `font_size` | 字体大小 (8-256px) |
| `font_color` | 文字颜色 (支持HEX/RGB格式) |
| `opacity` | 透明度 (0.0-1.0) |
| `speed` | 移动速度 (0.1-10倍速) |
| `trajectory` | 移动轨迹模式 |
| `font_path` | 自定义字体文件路径 |
| `custom_trajectory` | JSON格式的自定义路径 |
| `rotation` | 文字旋转角度 (-360°-360°) |
| `dynamic_size` | 启用动态字体大小 |
| `min_size`/`max_size` | 动态字体大小范围 |
| `stroke_width` | 文字描边宽度 |
| `stroke_color` | 描边颜色 |
| `shadow` | 启用阴影效果 |
| `shadow_color` | 阴影颜色 |
| `shadow_offset` | 阴影偏移量 |
| `blur_radius` | 模糊半径 |

## 轨迹模式
- `horizontal`: 水平移动
- `vertical`: 垂直移动
- `circular`: 圆形运动
- `diagonal`: 对角线移动
- `random`: 随机位置跳动
- `spiral`: 螺旋运动
- `wave`: 波浪运动
- `bounce`: 弹跳运动
- 自定义路径: 通过JSON坐标点定义

## 高级效果
- 自动旋转：圆形/螺旋轨迹自动跟随路径旋转
- 动态大小：文字大小随时间波动变化
- 描边效果：增强文字可读性
- 阴影效果：增加立体感
- 模糊效果：创建柔和的水印

## 自定义轨迹示例

### 示例1：简单矩形路径
```json
[
  [0.1, 0.1],  // 左上角
  [0.9, 0.1],  // 右上角
  [0.9, 0.9],  // 右下角
  [0.1, 0.9],  // 左下角
  [0.1, 0.1]   // 返回起点
]
```
水印会沿矩形边界移动，适用于需要周期性循环的路径。

### 示例2：贝塞尔曲线路径
```json
[
  [0.1, 0.5],
  [0.3, 0.1],
  [0.7, 0.9],
  [0.9, 0.5]
]
```
创建平滑的曲线运动，适合优雅的品牌水印展示。

### 示例3：随机散点路径
```json
[
  [0.2, 0.3], [0.8, 0.4], [0.5, 0.7], 
  [0.3, 0.8], [0.7, 0.2], [0.4, 0.5]
]
```
创建看似随机但可控的运动，适合背景水印效果。

## 使用技巧
1. **路径点数量**：
   - 建议至少提供5个点以保证流畅运动
   - 复杂路径可使用20-50个点

2. **路径闭合**：
   - 如需循环路径，首尾点坐标应相同

3. **坐标范围**：
   - X坐标：0.0(左) → 1.0(右)
   - Y坐标：0.0(上) → 1.0(下)

4. **与速度配合**：
   - 较低速度(0.5-2.0)：适合复杂路径
   - 较高速度(3.0-5.0)：适合简单路径

5. **动态效果增强**：
   - 启用自动旋转使水印始终面向路径方向
   - 动态大小增加视觉趣味性

## 注意事项
1. 路径点数量应与总帧数匹配：
   - 100帧视频建议使用50-100个路径点
   - 使用 `len(custom_path) ≈ total_frames / 2` 公式

2. 超出屏幕处理：
   - 坐标可超出[0,1]范围创建进出效果
   - 例如：`[-0.1, 0.5] → [1.1, 0.5]` 实现左右穿屏

3. JSON格式验证：
   - 确保使用标准JSON格式
   - 可通过在线JSON验证工具检查

> 自定义轨迹功能提供了最大的灵活性，特别适合需要精确控制水印运动路径的品牌宣传、艺术创作等场景。通过精心设计的路径，可以创造出专业级的动态水印效果。
